define("graphs/fullCountWeek",[],function(){function t(){s.domain(c.empty()?x2.domain():c.extent()),p.select("path").attr("d",d),p.select(".x.axis").call(i)}var e={top:10,right:10,bottom:100,left:100},a=960-e.left-e.right,n=500-e.top-e.bottom,r=d3.time.format("%a, %d %b %Y %H:%M:%S %Z").parse,s=d3.time.scale().range([0,a]),o=d3.scale.linear().range([n,0]),i=d3.svg.axis().scale(s).orient("bottom"),l=d3.svg.axis().scale(o).orient("left"),c=d3.svg.brush().on("brush",t),d=d3.svg.area().interpolate("monotone").x(function(t){return s(t.timestamp)}).y0(n).y1(function(t){return o(t.count)}),u=d3.select(".pastWeekCount").append("svg").attr("width",a+e.left+e.right).attr("height",n+e.top+e.bottom);u.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",a).attr("height",n);var p=u.append("g").attr("transform","translate("+e.left+","+e.top+")");d3.json("getfullusercountweek",function(t){jQuery(".loading-message").hide(),t.forEach(function(t){t.timestamp=r(t.timestamp)}),s.domain(d3.extent(t.map(function(t){return t.timestamp}))),o.domain([0,d3.max(t.map(function(t){return t.count}))]),p.append("path").datum(t).attr("clip-path","url(#clip)").attr("d",d),p.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(i),p.append("g").attr("class","y axis").call(l)})}),define("graphs/fullCountToday",[],function(){function t(){s.domain(c.empty()?x2.domain():c.extent()),p.select("path").attr("d",d),p.select(".x.axis").call(i)}var e={top:10,right:10,bottom:100,left:100},a=960-e.left-e.right,n=500-e.top-e.bottom,r=d3.time.format("%a, %d %b %Y %H:%M:%S %Z").parse,s=d3.time.scale().range([0,a]),o=d3.scale.linear().range([n,0]),i=d3.svg.axis().scale(s).orient("bottom"),l=d3.svg.axis().scale(o).orient("left"),c=d3.svg.brush().on("brush",t),d=d3.svg.area().interpolate("monotone").x(function(t){return s(t.timestamp)}).y0(n).y1(function(t){return o(t.count)}),u=d3.select(".pastDayCount").append("svg").attr("width",a+e.left+e.right).attr("height",n+e.top+e.bottom);u.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",a).attr("height",n);var p=u.append("g").attr("transform","translate("+e.left+","+e.top+")");d3.json("getfullusercounttoday",function(t){jQuery(".loading-message").hide(),t.forEach(function(t){t.timestamp=r(t.timestamp)}),s.domain(d3.extent(t.map(function(t){return t.timestamp}))),o.domain([0,d3.max(t.map(function(t){return t.count}))]),p.append("path").datum(t).attr("clip-path","url(#clip)").attr("d",d),p.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(i),p.append("g").attr("class","y axis").call(l)})}),define("graphs/chattyUsers",[],function(){var t={top:20,right:20,bottom:40,left:60},e=960;height=500;var a=(d3.format(".0%"),d3.scale.ordinal().rangeRoundBands([0,e],.1,1)),n=d3.scale.linear().range([height,0]),r=d3.svg.axis().scale(a).orient("bottom").tickSize(0,0),s=d3.svg.axis().scale(n).orient("left"),o=d3.select(".chattyUsers").append("svg").attr("width",e+t.left+t.right).attr("height",650).append("g").attr("transform","translate("+t.left+","+t.top+")");d3.json("getchattyusers",function(t,e){function i(){clearTimeout(l);var t=a.domain(e.sort(this.checked?function(t,e){return e.noOfMessages-t.noOfMessages}:function(t,e){return d3.ascending(t.user,e.user)}).map(function(t){return t.user})).copy(),n=o.transition().duration(750),s=function(t,e){return 50*e};n.selectAll(".bar").delay(s).attr("x",function(e){return t(e.user)}),n.select(".x.axis").call(r).selectAll("g").delay(s)}jQuery(".loading-message").hide(),e.forEach(function(t){t.frequency=+t.frequency}),a.domain(e.map(function(t){return t.user})),n.domain([0,d3.max(e,function(t){return t.noOfMessages})]),o.append("g").attr("class","x axis").attr("transform","translate(-12,"+(height+40)+")").call(r).selectAll("text").attr("transform",function(){return"rotate(-87)"}),d3.selectAll(".x line, .x path").remove(),o.append("g").attr("class","y axis").call(s).append("text").attr("transform","rotate(-90)").attr("y",12).attr("dy",".71em").style("text-anchor","end").text("No Of Messages"),o.selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("x",function(t){return a(t.user)}).attr("width",a.rangeBand()).attr("y",function(t){return n(t.noOfMessages)}).attr("height",function(t){return height-n(t.noOfMessages)}).append("svg:title").text(function(t){return"Message count is "+t.noOfMessages}),d3.select("input").on("change",i);var l=setTimeout(function(){},2e3)})}),define("graphs/getKarmaUsers",[],function(){var t={top:20,right:20,bottom:60,left:60},e=960-t.left-t.right,a=500-t.top-t.bottom,n=(d3.format(".0%"),d3.scale.ordinal().rangeRoundBands([0,e],.1,1)),r=d3.scale.linear().range([a,0]),s=d3.svg.axis().scale(n).orient("bottom"),o=d3.svg.axis().scale(r).orient("left"),i=d3.select(".karmaUsers").append("svg").attr("width",e+t.left+t.right).attr("height",a+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");d3.json("getkarmausers",function(t,e){function l(){clearTimeout(c);var t=n.domain(e.sort(this.checked?function(t,e){return e.noOfKarma-t.noOfKarma}:function(t,e){return d3.ascending(t.user,e.user)}).map(function(t){return t.user})).copy(),a=i.transition().duration(750),r=function(t,e){return 50*e};a.selectAll(".bar").delay(r).attr("x",function(e){return t(e.user)}),a.select(".x.axis").call(s).selectAll("g").delay(r)}jQuery(".loading-message").hide(),e.forEach(function(t){t.frequency=+t.frequency}),n.domain(e.map(function(t){return t.user})),r.domain([0,d3.max(e,function(t){return t.noOfKarma})]),i.append("g").attr("class","x axis").attr("transform","translate(-10,"+(a+30)+")").call(s).selectAll("text").attr("transform",function(){return"rotate(-90)"}),d3.selectAll(".x line, .x path").remove(),i.append("g").attr("class","y axis").call(o).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Karma Level"),i.selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("x",function(t){return n(t.user)}).attr("width",n.rangeBand()).attr("y",function(t){return r(t.noOfKarma)}).attr("height",function(t){return a-r(t.noOfKarma)}).append("svg:title").text(function(t){return"Karma level is "+t.noOfKarma}),d3.select("input").on("change",l);var c=setTimeout(function(){},2e3)})}),require(["graphs/fullCountWeek","graphs/fullCountToday","graphs/chattyUsers","graphs/getKarmaUsers"],function(){}),define("main",function(){});
//# sourceMappingURL=main.js.map