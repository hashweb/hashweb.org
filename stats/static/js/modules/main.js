define("graphs/fullcount",[],function(){function t(){s.domain(c.empty()?x2.domain():c.extent()),u.select("path").attr("d",d),u.select(".x.axis").call(i)}var a={top:10,right:10,bottom:100,left:100},e=960-a.left-a.right,n=500-a.top-a.bottom,r=d3.time.format("%a, %d %b %Y %H:%M:%S %Z").parse,s=d3.time.scale().range([0,e]),o=d3.scale.linear().range([n,0]),i=d3.svg.axis().scale(s).orient("bottom"),l=d3.svg.axis().scale(o).orient("left"),c=d3.svg.brush().on("brush",t),d=d3.svg.area().interpolate("monotone").x(function(t){return s(t.timestamp)}).y0(n).y1(function(t){return o(t.count)}),p=d3.select(".fullCount").append("svg").attr("width",e+a.left+a.right).attr("height",n+a.top+a.bottom);p.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",e).attr("height",n);var u=p.append("g").attr("transform","translate("+a.left+","+a.top+")");d3.json("getfullusercount",function(t){t.forEach(function(t){t.timestamp=r(t.timestamp)}),s.domain(d3.extent(t.map(function(t){return t.timestamp}))),o.domain([0,d3.max(t.map(function(t){return t.count}))]),u.append("path").datum(t).attr("clip-path","url(#clip)").attr("d",d),u.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(i),u.append("g").attr("class","y axis").call(l)})}),define("graphs/fullCountWeek",[],function(){function t(){s.domain(c.empty()?x2.domain():c.extent()),u.select("path").attr("d",d),u.select(".x.axis").call(i)}var a={top:10,right:10,bottom:100,left:100},e=960-a.left-a.right,n=500-a.top-a.bottom,r=d3.time.format("%a, %d %b %Y %H:%M:%S %Z").parse,s=d3.time.scale().range([0,e]),o=d3.scale.linear().range([n,0]),i=d3.svg.axis().scale(s).orient("bottom"),l=d3.svg.axis().scale(o).orient("left"),c=d3.svg.brush().on("brush",t),d=d3.svg.area().interpolate("monotone").x(function(t){return s(t.timestamp)}).y0(n).y1(function(t){return o(t.count)}),p=d3.select(".pastWeekCount").append("svg").attr("width",e+a.left+a.right).attr("height",n+a.top+a.bottom);p.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",e).attr("height",n);var u=p.append("g").attr("transform","translate("+a.left+","+a.top+")");d3.json("getfullusercountweek",function(t){jQuery(".loading-message").hide(),t.forEach(function(t){t.timestamp=r(t.timestamp)}),s.domain(d3.extent(t.map(function(t){return t.timestamp}))),o.domain([0,d3.max(t.map(function(t){return t.count}))]),u.append("path").datum(t).attr("clip-path","url(#clip)").attr("d",d),u.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(i),u.append("g").attr("class","y axis").call(l)})}),define("graphs/fullCountToday",[],function(){function t(){s.domain(c.empty()?x2.domain():c.extent()),u.select("path").attr("d",d),u.select(".x.axis").call(i)}var a={top:10,right:10,bottom:100,left:100},e=960-a.left-a.right,n=500-a.top-a.bottom,r=d3.time.format("%a, %d %b %Y %H:%M:%S %Z").parse,s=d3.time.scale().range([0,e]),o=d3.scale.linear().range([n,0]),i=d3.svg.axis().scale(s).orient("bottom"),l=d3.svg.axis().scale(o).orient("left"),c=d3.svg.brush().on("brush",t),d=d3.svg.area().interpolate("monotone").x(function(t){return s(t.timestamp)}).y0(n).y1(function(t){return o(t.count)}),p=d3.select(".pastDayCount").append("svg").attr("width",e+a.left+a.right).attr("height",n+a.top+a.bottom);p.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",e).attr("height",n);var u=p.append("g").attr("transform","translate("+a.left+","+a.top+")");d3.json("getfullusercounttoday",function(t){jQuery(".loading-message").hide(),t.forEach(function(t){t.timestamp=r(t.timestamp)}),s.domain(d3.extent(t.map(function(t){return t.timestamp}))),o.domain([0,d3.max(t.map(function(t){return t.count}))]),u.append("path").datum(t).attr("clip-path","url(#clip)").attr("d",d),u.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(i),u.append("g").attr("class","y axis").call(l)})}),define("graphs/chattyUsers",[],function(){var t={top:20,right:20,bottom:60,left:60},a=960-t.left-t.right,e=500-t.top-t.bottom,n=(d3.format(".0%"),d3.scale.ordinal().rangeRoundBands([0,a],.1,1)),r=d3.scale.linear().range([e,0]),s=d3.svg.axis().scale(n).orient("bottom"),o=d3.svg.axis().scale(r).orient("left"),i=d3.select(".chattyUsers").append("svg").attr("width",a+t.left+t.right).attr("height",e+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");d3.json("getchattyusers",function(t,a){function l(){clearTimeout(c);var t=n.domain(a.sort(this.checked?function(t,a){return a.noOfMessages-t.noOfMessages}:function(t,a){return d3.ascending(t.user,a.user)}).map(function(t){return t.user})).copy(),e=i.transition().duration(750),r=function(t,a){return 50*a};e.selectAll(".bar").delay(r).attr("x",function(a){return t(a.user)}),e.select(".x.axis").call(s).selectAll("g").delay(r)}jQuery(".loading-message").hide(),a.forEach(function(t){t.frequency=+t.frequency}),n.domain(a.map(function(t){return t.user})),r.domain([0,d3.max(a,function(t){return t.noOfMessages})]),i.append("g").attr("class","x axis").attr("transform","translate(-10,"+(e+30)+")").call(s).selectAll("text").attr("transform",function(){return"rotate(-90)"}),i.append("g").attr("class","y axis").call(o).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("No Of Messages"),i.selectAll(".bar").data(a).enter().append("rect").attr("class","bar").attr("x",function(t){return n(t.user)}).attr("width",n.rangeBand()).attr("y",function(t){return r(t.noOfMessages)}).attr("height",function(t){return e-r(t.noOfMessages)}).append("svg:title").text(function(t){return"Message count is "+t.noOfMessages}),d3.select("input").on("change",l);var c=setTimeout(function(){d3.select("input").property("checked",!0).each(l)},2e3)})}),require(["graphs/fullcount","graphs/fullCountWeek","graphs/fullCountToday","graphs/chattyUsers"],function(){}),define("main",function(){});
//# sourceMappingURL=main.js.map