define("graphs/userTimeOnline",[],function(){var t={top:20,right:20,bottom:60,left:40},e=500-t.left-t.right,n=200-t.top-t.bottom,r=(d3.format(".0%"),d3.scale.ordinal().rangeRoundBands([0,e],.1,1)),a=d3.scale.linear().range([n,0]),i=d3.svg.axis().scale(r).orient("bottom"),c=$(".page-wrap").data("user"),o=d3.select(".time-online").append("svg").attr("width",e+t.left+t.right).attr("height",n+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");d3.json("/web/getusertimeonline/"+c,function(t,e){function c(){clearTimeout(u);var t=r.domain(e.sort(this.checked?function(t,e){return e.perc-t.perc}:function(t,e){return d3.ascending(t.perc,e.perc)}).map(function(t){return t.perc})).copy(),n=o.transition().duration(750),a=function(t,e){return 50*e};n.selectAll(".bar").delay(a).attr("x",function(e){return t(e.perc)}),n.select(".x.axis").call(i).selectAll("g").delay(a)}e.forEach(function(t){t.frequency=+t.frequency}),r.domain(e.map(function(t){return t.time})),a.domain([0,d3.max(e,function(t){return t.perc})]),o.append("g").attr("class","x axis").attr("transform","translate(-10,"+(n+30)+")").call(i).selectAll("text").attr("transform",function(){return"rotate(-90)"}),o.selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("x",function(t){return r(t.time)}).attr("width",r.rangeBand()).attr("y",function(t){return a(t.perc)}).attr("height",function(t){return n-a(t.perc)}).append("svg:title").text(function(t){return t.perc+"%"}),d3.select("input").on("change",c);var u=setTimeout(function(){d3.select("input").property("checked",!0).each(c)},2e3)})}),require(["graphs/userTimeOnline"],function(){}),define("userinfo",function(){});
//# sourceMappingURL=userinfo.js.map